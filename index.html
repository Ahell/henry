<!DOCTYPE html>
<html lang="sv">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FEI Kursplanerare</title>
    <link rel="stylesheet" href="/src/styles/tokens.css" />
    <link rel="stylesheet" href="/src/styles/theme.css" />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: var(--font-family-base);
        background: var(--color-background);
        min-height: 100vh;
        padding: 0;
        color: var(--color-text-primary);
      }

      .app-shell {
        display: grid;
        grid-template-columns: minmax(210px, 240px) minmax(0, 1fr);
        min-height: 100vh;
      }

      .sidebar {
        position: sticky;
        top: 0;
        height: 100vh;
        overflow-y: auto;
        padding: var(--space-6) var(--space-4) var(--space-6) var(--space-6);
        background: linear-gradient(
          180deg,
          var(--color-primary-700) 0%,
          #243a6d 100%
        );
        color: #f8fafc;
        border-right: 1px solid rgba(255, 255, 255, 0.08);
      }

      .sidebar-content {
        display: flex;
        flex-direction: column;
        gap: var(--space-6);
        height: 100%;
      }

      .sidebar-brand {
        display: flex;
        align-items: center;
        gap: var(--space-3);
        padding-bottom: var(--space-5);
        border-bottom: 1px solid rgba(255, 255, 255, 0.12);
      }

      .brand-mark {
        width: 36px;
        height: 36px;
        border-radius: 12px;
        background: rgba(255, 255, 255, 0.16);
        display: grid;
        place-items: center;
        font-weight: var(--font-weight-bold);
        letter-spacing: 0.12em;
        color: #ffffff;
        font-size: 0.75rem;
      }

      .brand-text h1 {
        font-size: var(--font-size-lg);
        font-weight: var(--font-weight-semibold);
        letter-spacing: -0.01em;
        margin: 0 0 2px;
      }

      .brand-text p {
        margin: 0;
        font-size: var(--font-size-xs);
        color: rgba(255, 255, 255, 0.7);
      }

      .sidebar-section {
        display: flex;
        flex-direction: column;
        gap: var(--space-2);
      }

      .sidebar-label {
        font-size: 0.6rem;
        letter-spacing: 0.16em;
        text-transform: uppercase;
        color: rgba(255, 255, 255, 0.55);
      }

      .sidebar-utilities {
        margin-top: auto;
        padding-top: var(--space-4);
        border-top: 1px solid rgba(255, 255, 255, 0.12);
        display: flex;
        flex-direction: column;
        gap: var(--space-4);
      }

      .app-content {
        min-width: 0;
        display: flex;
        flex-direction: column;
        background: var(--color-background);
        min-height: 100vh;
      }

      .nav-status {
        display: inline-flex;
        align-items: center;
        padding: 4px 10px;
        border-radius: var(--radius-full);
        border: 1px solid rgba(255, 255, 255, 0.2);
        background: rgba(255, 255, 255, 0.12);
        color: rgba(255, 255, 255, 0.78);
        font-size: var(--font-size-xs);
        white-space: nowrap;
      }

      .nav-status:empty {
        display: none;
      }

      .container {
        width: 100%;
        max-width: 1800px;
        margin: var(--space-6) auto var(--space-8);
        padding: 0 var(--space-6);
      }

      .admin-tabs {
        display: flex;
        flex-direction: column;
        gap: var(--space-2);
      }

      .admin-tab-btn {
        width: 100%;
        text-align: left;
        background: transparent;
        color: rgba(255, 255, 255, 0.82);
        border: none;
        padding: 3px 0;
        border-radius: 0;
        cursor: pointer;
        font-size: var(--font-size-sm);
        font-weight: var(--font-weight-medium);
        transition: var(--transition-all);
        letter-spacing: 0.01em;
        position: relative;
      }

      .admin-tab-btn:hover {
        color: #ffffff;
      }

      .admin-tab-btn.active {
        color: #ffffff;
      }

      .admin-tab-btn.active::before {
        content: "";
        position: absolute;
        left: calc(-1 * var(--space-6));
        top: 0;
        width: 3px;
        height: 100%;
        background: var(--color-secondary-400);
      }

      .admin-actions-group {
        display: flex;
        flex-direction: column;
        gap: var(--space-2);
      }

      henry-switch.nav-edit-switch {
        --color-text-primary: rgba(255, 255, 255, 0.9);
        --color-border: rgba(255, 255, 255, 0.18);
        --color-gray-200: rgba(255, 255, 255, 0.14);
        --color-success: rgba(255, 255, 255, 0.22);
        --color-success-hover: rgba(255, 255, 255, 0.28);
        --color-background: rgba(255, 255, 255, 0.08);
        --color-surface: rgba(255, 255, 255, 0.08);
        --color-text-secondary: rgba(255, 255, 255, 0.7);
        --henry-switch-label-size: var(--font-size-xs);
        --henry-switch-label-weight: var(--font-weight-semibold);
        --henry-switch-label-letter-spacing: 0.01em;
        --henry-switch-width: 36px;
        --henry-switch-height: 20px;
        --henry-switch-thumb-size: 14px;
        --henry-switch-thumb-offset: 3px;
      }

      main {
        background: transparent;
        border: none;
        border-radius: 0;
        box-shadow: none;
        padding: 0;
      }

      .section {
        display: none;
      }

      .section.active {
        display: block;
      }

      h2 {
        color: var(--color-text-primary);
        margin-bottom: var(--space-4);
        font-size: var(--font-size-xl);
        letter-spacing: -0.01em;
      }

      footer {
        text-align: center;
        color: var(--color-text-secondary);
        padding: var(--space-6) var(--space-6) var(--space-8);
        opacity: 0.8;
        font-size: var(--font-size-sm);
      }

      @media (max-width: 1024px) {
        .app-shell {
          grid-template-columns: 1fr;
        }

        .sidebar {
          position: relative;
          height: auto;
          border-right: none;
          border-bottom: 1px solid rgba(255, 255, 255, 0.12);
        }

        .admin-tabs {
          flex-direction: row;
          flex-wrap: nowrap;
          overflow-x: auto;
          padding-bottom: var(--space-2);
        }

        .admin-tab-btn {
          width: auto;
          white-space: nowrap;
        }

        .admin-actions-group {
          flex-direction: row;
          flex-wrap: wrap;
        }
      }

      @media (max-width: 768px) {
        .container {
          padding: 0 var(--space-4);
        }

        footer {
          padding: var(--space-6) var(--space-4) var(--space-8);
        }
      }
    </style>
  </head>
  <body>
    <div class="app-shell">
      <aside class="sidebar">
        <div class="sidebar-content">
          <div class="sidebar-brand">
            <div class="brand-mark">FEI</div>
            <div class="brand-text">
              <h1>FEI Kursplanerare</h1>
              <p>Admin</p>
            </div>
          </div>

          <div class="sidebar-section">
            <span class="sidebar-label">Navigering</span>
            <div id="adminTabs" class="admin-tabs" aria-label="Admin tabs"></div>
          </div>

          <div class="sidebar-utilities">
            <div class="sidebar-section" aria-label="Status">
              <span class="sidebar-label">Status</span>
              <span id="navStatus" class="nav-status"></span>
            </div>
            <div class="sidebar-section" aria-label="Ändringar">
              <span class="sidebar-label">Ändringar</span>
              <div class="admin-actions-group">
                <button id="navRevertChanges" class="admin-tab-btn" type="button">
                  Revertera
                </button>
                <button id="navCommitChanges" class="admin-tab-btn" type="button">
                  Commit
                </button>
              </div>
            </div>

            <div class="sidebar-section" aria-label="Admin">
              <span class="sidebar-label">Admin</span>
              <div class="admin-actions-group">
                <button id="navLoadTestData" class="admin-tab-btn" type="button">
                  Ladda Testdata
                </button>
                <button id="navResetDatabase" class="admin-tab-btn" type="button">
                  Återställ Databas
                </button>
                <henry-switch
                  id="navEditMode"
                  class="nav-edit-switch"
                  label="Redigera"
                ></henry-switch>
              </div>
            </div>
          </div>
        </div>
      </aside>

      <div class="app-content">
        <div class="container">
          <main>
            <div id="admin" class="section active">
              <admin-panel></admin-panel>
            </div>
          </main>
        </div>

        <footer>
          <p>FEI Kursplanerare v1.0</p>
        </footer>
      </div>
    </div>

    <script type="module" src="/src/main.js"></script>
  </body>
</html>
